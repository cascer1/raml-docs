{
  "$schema" : "http://json-schema.org/draft-04/schema#",
  "title" : "Global definitions for token calls",
  "definitions" : {
    "AbstractToken" : {
      "type" : "object",
      "properties" : {
        "alias" : {
          "type" : "string"
        }
      }
    },
    "ContactDetailsToken" : {
      "allOf" : [ {
        "$ref" : "../definitions.json#/definitions/ContactDetailsBase"
      } ]
    },
    "Creditor" : {
      "type" : "object",
      "properties" : {
        "additionalAddressInfo" : {
          "type" : "string"
        },
        "city" : {
          "type" : "string"
        },
        "countryCode" : {
          "type" : "string"
        },
        "houseNumber" : {
          "type" : "string"
        },
        "iban" : {
          "type" : "string"
        },
        "id" : {
          "type" : "string"
        },
        "name" : {
          "type" : "string"
        },
        "referenceParty" : {
          "type" : "string"
        },
        "referencePartyId" : {
          "type" : "string"
        },
        "street" : {
          "type" : "string"
        },
        "zip" : {
          "type" : "string"
        }
      }
    },
    "CustomerToken" : {
      "allOf" : [ {
        "$ref" : "../definitions.json#/definitions/CustomerBase"
      }, {
        "properties" : {
          "billingAddress" : {
            "$ref" : "../definitions.json#/definitions/Address"
          },
          "personalInformation" : {
            "$ref" : "#/definitions/PersonalInformationToken"
          }
        },
        "required" : [ "billingAddress" ]
      } ]
    },
    "CustomerTokenWithContactDetails" : {
      "allOf" : [ {
        "$ref" : "#/definitions/CustomerToken"
      }, {
        "properties" : {
          "contactDetails" : {
            "$ref" : "#/definitions/ContactDetailsToken"
          }
        }
      } ]
    },
    "Debtor" : {
      "type" : "object",
      "properties" : {
        "additionalAddressInfo" : {
          "type" : "string"
        },
        "city" : {
          "type" : "string"
        },
        "countryCode" : {
          "type" : "string"
        },
        "firstName" : {
          "type" : "string"
        },
        "houseNumber" : {
          "type" : "string"
        },
        "state" : {
          "type" : "string"
        },
        "stateCode" : {
          "type" : "string"
        },
        "street" : {
          "type" : "string"
        },
        "surname" : {
          "type" : "string"
        },
        "surnamePrefix" : {
          "type" : "string"
        },
        "zip" : {
          "type" : "string"
        }
      }
    },
    "MandateApproval" : {
      "type" : "object",
      "properties" : {
        "mandateSignatureDate" : {
          "type" : "string"
        },
        "mandateSignaturePlace" : {
          "type" : "string"
        },
        "mandateSigned" : {
          "type" : "boolean"
        }
      }
    },
    "MandateNonSepaDirectDebit" : {
      "allOf" : [ {
        "type" : "object"
      }, {
        "oneOf" : [ {
          "properties" : {
            "paymentProduct705SpecificData" : {
              "$ref" : "#/definitions/TokenNonSepaDirectDebitPaymentProduct705SpecificData"
            }
          },
          "required" : [ "paymentProduct705SpecificData" ]
        }, {
          "properties" : {
            "paymentProduct707SpecificData" : {
              "$ref" : "#/definitions/TokenNonSepaDirectDebitPaymentProduct707SpecificData"
            }
          },
          "required" : [ "paymentProduct707SpecificData" ]
        } ]
      } ]
    },
    "MandateSepaDirectDebit" : {
      "allOf" : [ {
        "$ref" : "#/definitions/MandateSepaDirectDebitWithMandateId"
      }, {
        "properties" : {
          "creditor" : {
            "$ref" : "#/definitions/Creditor"
          }
        }
      } ]
    },
    "MandateSepaDirectDebitWithMandateId" : {
      "allOf" : [ {
        "$ref" : "#/definitions/MandateSepaDirectDebitWithoutCreditor"
      }, {
        "properties" : {
          "mandateId" : {
            "type" : "string"
          }
        }
      } ]
    },
    "MandateSepaDirectDebitWithoutCreditor" : {
      "type" : "object",
      "properties" : {
        "bankAccountIban" : {
          "$ref" : "../definitions.json#/definitions/BankAccountIban"
        },
        "customerContractIdentifier" : {
          "type" : "string"
        },
        "debtor" : {
          "$ref" : "#/definitions/Debtor"
        },
        "isRecurring" : {
          "type" : "boolean"
        },
        "mandateApproval" : {
          "$ref" : "#/definitions/MandateApproval"
        },
        "preNotification" : {
          "type" : "string"
        }
      }
    },
    "PersonalInformationToken" : {
      "type" : "object",
      "properties" : {
        "name" : {
          "$ref" : "#/definitions/PersonalNameToken"
        }
      }
    },
    "PersonalNameToken" : {
      "allOf" : [ {
        "$ref" : "../definitions.json#/definitions/PersonalNameBase"
      } ]
    },
    "TokenCard" : {
      "allOf" : [ {
        "$ref" : "#/definitions/AbstractToken"
      }, {
        "properties" : {
          "customer" : {
            "$ref" : "#/definitions/CustomerToken"
          },
          "data" : {
            "$ref" : "#/definitions/TokenCardData"
          }
        },
        "required" : [ "customer", "data" ]
      } ]
    },
    "TokenCardData" : {
      "type" : "object",
      "properties" : {
        "cardWithoutCvv" : {
          "$ref" : "../definitions.json#/definitions/CardWithoutCvv"
        },
        "firstTransactionDate" : {
          "type" : "string"
        },
        "providerReference" : {
          "type" : "string"
        }
      },
      "required" : [ "cardWithoutCvv" ]
    },
    "TokenEWallet" : {
      "allOf" : [ {
        "$ref" : "#/definitions/AbstractToken"
      }, {
        "properties" : {
          "customer" : {
            "$ref" : "#/definitions/CustomerToken"
          },
          "data" : {
            "$ref" : "#/definitions/TokenEWalletData"
          }
        },
        "required" : [ "customer", "data" ]
      } ]
    },
    "TokenEWalletData" : {
      "type" : "object",
      "properties" : {
        "billingAgreementId" : {
          "type" : "string"
        }
      }
    },
    "TokenNonSepaDirectDebit" : {
      "allOf" : [ {
        "$ref" : "#/definitions/AbstractToken"
      }, {
        "properties" : {
          "customer" : {
            "$ref" : "#/definitions/CustomerToken"
          },
          "mandate" : {
            "$ref" : "#/definitions/MandateNonSepaDirectDebit"
          }
        },
        "required" : [ "customer", "mandate" ]
      } ]
    },
    "TokenNonSepaDirectDebitPaymentProduct705SpecificData" : {
      "type" : "object",
      "properties" : {
        "authorisationId" : {
          "type" : "string"
        },
        "bankAccountBban" : {
          "$ref" : "../definitions.json#/definitions/BankAccountBban"
        }
      },
      "required" : [ "bankAccountBban" ]
    },
    "TokenNonSepaDirectDebitPaymentProduct707SpecificData" : {
      "type" : "object",
      "properties" : {
        "addressLine1" : {
          "type" : "string"
        },
        "addressLine2" : {
          "type" : "string"
        },
        "addressLine3" : {
          "type" : "string"
        },
        "addressLine4" : {
          "type" : "string"
        },
        "bankAccountIban" : {
          "$ref" : "../definitions.json#/definitions/BankAccountIban"
        }
      },
      "required" : [ "bankAccountIban" ]
    },
    "TokenSepaDirectDebit" : {
      "allOf" : [ {
        "$ref" : "#/definitions/AbstractToken"
      }, {
        "properties" : {
          "customer" : {
            "$ref" : "#/definitions/CustomerTokenWithContactDetails"
          },
          "mandate" : {
            "$ref" : "#/definitions/MandateSepaDirectDebit"
          }
        },
        "required" : [ "customer", "mandate" ]
      } ]
    },
    "TokenSepaDirectDebitWithoutCreditor" : {
      "allOf" : [ {
        "$ref" : "#/definitions/AbstractToken"
      }, {
        "properties" : {
          "customer" : {
            "$ref" : "#/definitions/CustomerTokenWithContactDetails"
          },
          "mandate" : {
            "$ref" : "#/definitions/MandateSepaDirectDebitWithoutCreditor"
          }
        },
        "required" : [ "customer", "mandate" ]
      } ]
    }
  }
}