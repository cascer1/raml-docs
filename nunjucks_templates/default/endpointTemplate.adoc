{% for method in endpoint.methods %}
=== {{method.method}} {{endpoint.parentPath}}{{ endpoint.relativeUri }}
{% if method.description %}
==== Description
{{method.description}}
{% endif %}
{% if method.protocols %}
==== Protocols
{% for p in method.protocols %}
{{p}}
{% endfor %}
{% endif %}

{% if endpoint.uriParameters %}
{% include 'nunjucks_templates/' + templateName + '/uriParameters.adoc' %}
{% endif %}

{% if method.queryParameters %}
{% include 'nunjucks_templates/' + templateName + '/queryParameters.adoc' %}
{% endif %}

{% if method.body %}
{% include 'nunjucks_templates/' + templateName + '/methodBody.adoc' %}
{% endif %}

{% if method.responses %}
{% include 'nunjucks_templates/' + templateName + '/methodResponse.adoc' %}
{% endif %}

<<<

{% endfor %}

{# Call this template recursively for children of the current endpoint #}
{% for endpoint in endpoint.resources %}
{% include 'nunjucks_templates/' + templateName + '/endpointTemplate.adoc' %}
{% endfor %}
